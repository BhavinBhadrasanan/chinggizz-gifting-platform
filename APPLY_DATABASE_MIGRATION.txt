================================================================================
IMPORTANT: APPLY THIS DATABASE MIGRATION TO SEE HAMPER SCREENSHOTS
================================================================================

ISSUE: Hamper arrangement photos are not showing in admin panel

REASON: Database is missing the 'screenshot' and 'hamper_name' fields

SOLUTION: Run the SQL migration in Supabase (takes 10 seconds!)

================================================================================
STEP-BY-STEP INSTRUCTIONS:
================================================================================

1. Open Supabase Dashboard
   â†’ Go to: https://supabase.com
   â†’ Login to your account
   â†’ Select your "chinggizz" project

2. Open SQL Editor
   â†’ Click "SQL Editor" in the left sidebar
   â†’ Click "New Query" button

3. Copy and Paste This SQL:
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

   ALTER TABLE order_hampers 
   ADD COLUMN IF NOT EXISTS screenshot TEXT;

   ALTER TABLE order_hampers 
   ADD COLUMN IF NOT EXISTS hamper_name VARCHAR(200);

   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

4. Run the Query
   â†’ Click "Run" button (or press Ctrl+Enter)
   â†’ You should see: "Success. No rows returned"

5. Verify It Worked
   â†’ Go to "Database" â†’ "Tables" â†’ "order_hampers"
   â†’ Scroll down in the columns list
   â†’ You should now see:
     âœ“ screenshot (text)
     âœ“ hamper_name (varchar)

================================================================================
WHAT THIS DOES:
================================================================================

âœ“ Adds 'screenshot' field to store Base64 hamper arrangement photos
âœ“ Adds 'hamper_name' field to store custom hamper names
âœ“ Safe to run (uses IF NOT EXISTS - won't break if already exists)
âœ“ No data loss - existing orders remain intact
âœ“ Takes less than 1 second to execute

================================================================================
AFTER MIGRATION:
================================================================================

1. Create a new hamper order with arrangement
2. Go to admin panel
3. Click "View Full Details" on the order
4. You will now see:
   ğŸ“¸ Customer's Arrangement (with photo!)
   ğŸ Custom hamper name
   âš ï¸ "Arrange items EXACTLY as shown" warning

================================================================================
TROUBLESHOOTING:
================================================================================

Q: Error "column already exists"
A: âœ“ This is OK! It means the field was already added. You're good to go!

Q: Error "permission denied"
A: âœ— You need admin/owner access to the Supabase project

Q: Error "table does not exist"
A: âœ— Run the full schema first: database/schema-postgres.sql

Q: Still not seeing screenshots after migration?
A: The migration only affects NEW orders. Old orders won't have screenshots.
   Create a new test order to verify it works!

================================================================================
FILE LOCATION:
================================================================================

The full migration file is located at:
â†’ database/migrations/add_hamper_screenshot.sql

You can also copy the SQL from there if needed.

================================================================================
NEED HELP?
================================================================================

If you encounter any issues:
1. Check that you're logged into the correct Supabase project
2. Verify you have admin/owner permissions
3. Try refreshing the Supabase dashboard
4. Contact support if the error persists

================================================================================

